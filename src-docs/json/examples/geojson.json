{
  "title": "GeoJSON",
  "oneOf": [
    { "$ref": "#/definitions/point" },
    { "$ref": "#/definitions/lineString" },
    { "$ref": "#/definitions/polygon" },
    { "$ref": "#/definitions/multiPoint" },
    { "$ref": "#/definitions/multiLineString" },
    { "$ref": "#/definitions/multiPolygon" },
    { "$ref": "#/definitions/geometryCollection" },
    { "$ref": "#/definitions/feature" },
    { "$ref": "#/definitions/featureCollection" }
  ],
  "definitions": {
    "position": {
      "title": "Position",
      "type": "array",
      "x-format": "tuple",
      "minItems": 2,
      "maxItems": 2,
      "prefixItems": [
        { "title": "Longitude", "type": "number" },
        { "title": "Latitude", "type": "number" }
      ]
    },
    "bbox": {
      "title": "Bounding Box",
      "type": "array",
      "x-format": "tuple",
      "minItems": 4,
      "maxItems": 4,
      "prefixItems": [
        { "title": "Min Longitude", "type": "number" },
        { "title": "Min Latitude", "type": "number" },
        { "title": "Max Longitude", "type": "number" },
        { "title": "Max Latitude", "type": "number" }
      ]
    },
    "point": {
      "title": "GeoJSON Point",
      "type": "object",
      "required": ["type", "coordinates"],
      "properties": {
        "type": {
          "title": "Type",
          "type": "string",
          "enum": ["Point"]
        },
        "coordinates": {
          "title": "Coordinates",
          "$ref": "#/definitions/position"
        },
        "bbox": {
          "title": "Bounding Box",
          "$ref": "#/definitions/bbox"
        }
      }
    },
    "lineString": {
      "title": "GeoJSON LineString",
      "type": "object",
      "required": ["type", "coordinates"],
      "properties": {
        "type": {
          "title": "Type",
          "type": "string",
          "enum": ["LineString"]
        },
        "coordinates": {
          "title": "Coordinates",
          "type": "array",
          "minItems": 2,
          "items": { "title": "Position", "$ref": "#/definitions/position" }
        },
        "bbox": {
          "title": "Bounding Box",
          "$ref": "#/definitions/bbox"
        }
      }
    },
    "polygon": {
      "title": "GeoJSON Polygon",
      "type": "object",
      "required": ["type", "coordinates"],
      "properties": {
        "type": {
          "title": "Type",
          "type": "string",
          "enum": ["Polygon"]
        },
        "coordinates": {
          "title": "Coordinates",
          "type": "array",
          "items": {
            "title": "Linear Ring",
            "type": "array",
            "minItems": 4,
            "items": { "title": "Position", "$ref": "#/definitions/position" }
          }
        },
        "bbox": {
          "title": "Bounding Box",
          "$ref": "#/definitions/bbox"
        }
      }
    },
    "multiPoint": {
      "title": "GeoJSON MultiPoint",
      "type": "object",
      "required": ["type", "coordinates"],
      "properties": {
        "type": {
          "title": "Type",
          "type": "string",
          "enum": ["MultiPoint"]
        },
        "coordinates": {
          "title": "Coordinates",
          "type": "array",
          "items": { "title": "Position", "$ref": "#/definitions/position" }
        },
        "bbox": {
          "title": "Bounding Box",
          "$ref": "#/definitions/bbox"
        }
      }
    },
    "multiLineString": {
      "title": "GeoJSON MultiLineString",
      "type": "object",
      "required": ["type", "coordinates"],
      "properties": {
        "type": {
          "title": "Type",
          "type": "string",
          "enum": ["MultiLineString"]
        },
        "coordinates": {
          "title": "Coordinates",
          "type": "array",
          "items": {
            "title": "Line",
            "type": "array",
            "minItems": 2,
            "items": { "title": "Position", "$ref": "#/definitions/position" }
          }
        },
        "bbox": {
          "title": "Bounding Box",
          "$ref": "#/definitions/bbox"
        }
      }
    },
    "multiPolygon": {
      "title": "GeoJSON MultiPolygon",
      "type": "object",
      "required": ["type", "coordinates"],
      "properties": {
        "type": {
          "title": "Type",
          "type": "string",
          "enum": ["MultiPolygon"]
        },
        "coordinates": {
          "title": "Coordinates",
          "type": "array",
          "items": {
            "title": "Polygon",
            "type": "array",
            "items": {
              "title": "Linear Ring",
              "type": "array",
              "minItems": 4,
              "items": { "title": "Position", "$ref": "#/definitions/position" }
            }
          }
        },
        "bbox": {
          "title": "Bounding Box",
          "$ref": "#/definitions/bbox"
        }
      }
    },
    "geometry": {
      "title": "Geometry",
      "oneOf": [
        { "$ref": "#/definitions/point" },
        { "$ref": "#/definitions/lineString" },
        { "$ref": "#/definitions/polygon" },
        { "$ref": "#/definitions/multiPoint" },
        { "$ref": "#/definitions/multiLineString" },
        { "$ref": "#/definitions/multiPolygon" }
      ]
    },
    "geometryCollection": {
      "title": "GeoJSON GeometryCollection",
      "type": "object",
      "required": ["type", "geometries"],
      "properties": {
        "type": {
          "title": "Type",
          "type": "string",
          "enum": ["GeometryCollection"]
        },
        "geometries": {
          "title": "Geometries",
          "type": "array",
          "items": { "title": "Geometry", "$ref": "#/definitions/geometry" }
        },
        "bbox": {
          "title": "Bounding Box",
          "$ref": "#/definitions/bbox"
        }
      }
    },
    "feature": {
      "title": "GeoJSON Feature",
      "type": "object",
      "required": ["type", "properties", "geometry"],
      "properties": {
        "type": {
          "title": "Type",
          "type": "string",
          "enum": ["Feature"]
        },
        "id": {
          "title": "ID",
          "oneOf": [
            { "title": "Numeric ID", "type": "number" },
            { "title": "String ID", "type": "string" }
          ]
        },
        "properties": {
          "title": "Properties",
          "oneOf": [
            { "title": "Null", "type": "null" },
            { "title": "Object", "type": "object" }
          ]
        },
        "geometry": {
          "title": "Geometry",
          "oneOf": [
            { "title": "Null Geometry", "type": "null" },
            { "$ref": "#/definitions/point" },
            { "$ref": "#/definitions/lineString" },
            { "$ref": "#/definitions/polygon" },
            { "$ref": "#/definitions/multiPoint" },
            { "$ref": "#/definitions/multiLineString" },
            { "$ref": "#/definitions/multiPolygon" },
            { "$ref": "#/definitions/geometryCollection" }
          ]
        },
        "bbox": {
          "title": "Bounding Box",
          "$ref": "#/definitions/bbox"
        }
      }
    },
    "featureCollection": {
      "title": "GeoJSON FeatureCollection",
      "type": "object",
      "required": ["type", "features"],
      "properties": {
        "type": {
          "title": "Type",
          "type": "string",
          "enum": ["FeatureCollection"]
        },
        "features": {
          "title": "Features",
          "type": "array",
          "items": { "title": "Feature", "$ref": "#/definitions/feature" }
        },
        "bbox": {
          "title": "Bounding Box",
          "$ref": "#/definitions/bbox"
        }
      }
    }
  }
}