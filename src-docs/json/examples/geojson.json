{
  "title": "GeoJSON",
  "oneOf": [
    { "$ref": "#/definitions/point" },
    { "$ref": "#/definitions/lineString" },
    { "$ref": "#/definitions/polygon" },
    { "$ref": "#/definitions/multiPoint" },
    { "$ref": "#/definitions/multiLineString" },
    { "$ref": "#/definitions/multiPolygon" },
    { "$ref": "#/definitions/geometryCollection" },
    { "$ref": "#/definitions/feature" },
    { "$ref": "#/definitions/featureCollection" }
  ],
  "definitions": {
    "position": {
      "title": "Position",
      "x-switcherInput": "radios-inline",
      "oneOf": [
        {
          "title": "2D Position",
          "type": "array",
          "x-format": "tuple",
          "minItems": 2,
          "maxItems": 2,
          "prefixItems": [
            { "title": "Longitude", "type": "number" },
            { "title": "Latitude", "type": "number" }
          ]
        },
        {
          "title": "3D Position",
          "type": "array",
          "x-format": "tuple",
          "minItems": 3,
          "maxItems": 3,
          "prefixItems": [
            { "title": "Longitude", "type": "number" },
            { "title": "Latitude", "type": "number" },
            { "title": "Altitude", "type": "number" }
          ]
        }
      ]
    },
    "bbox": {
      "title": "Bounding Box",
      "x-switcherInput": "radios-inline",
      "oneOf": [
        {
          "title": "2D BBox",
          "type": "array",
          "x-format": "tuple",
          "minItems": 4,
          "maxItems": 4,
          "prefixItems": [
            { "title": "West Longitude", "type": "number" },
            { "title": "South Latitude", "type": "number" },
            { "title": "East Longitude", "type": "number" },
            { "title": "North Latitude", "type": "number" }
          ]
        },
        {
          "title": "3D BBox",
          "type": "array",
          "x-format": "tuple",
          "minItems": 6,
          "maxItems": 6,
          "prefixItems": [
            { "title": "West Longitude", "type": "number" },
            { "title": "South Latitude", "type": "number" },
            { "title": "Min Altitude", "type": "number" },
            { "title": "East Longitude", "type": "number" },
            { "title": "North Latitude", "type": "number" },
            { "title": "Max Altitude", "type": "number" }
          ]
        }
      ]
    },
    "point": {
      "title": "GeoJSON Point",
      "type": "object",
      "additionalProperties": true,
      "required": ["type", "coordinates"],
      "properties": {
        "type": {
          "title": "Type",
          "type": "string",
          "const": "Point",
          "default": "Point",
          "readOnly": true
        },
        "coordinates": {
          "title": "Coordinates",
          "$ref": "#/definitions/position"
        },
        "bbox": {
          "title": "Bounding Box",
          "$ref": "#/definitions/bbox"
        }
      }
    },
    "lineString": {
      "title": "GeoJSON LineString",
      "type": "object",
      "additionalProperties": true,
      "required": ["type", "coordinates"],
      "properties": {
        "type": {
          "title": "Type",
          "type": "string",
          "const": "LineString",
          "default": "LineString",
          "readOnly": true
        },
        "coordinates": {
          "title": "Coordinates",
          "type": "array",
          "minItems": 2,
          "items": { "title": "Position", "$ref": "#/definitions/position" }
        },
        "bbox": {
          "title": "Bounding Box",
          "$ref": "#/definitions/bbox"
        }
      }
    },
    "polygon": {
      "title": "GeoJSON Polygon",
      "type": "object",
      "additionalProperties": true,
      "required": ["type", "coordinates"],
      "properties": {
        "type": {
          "title": "Type",
          "type": "string",
          "const": "Polygon",
          "default": "Polygon",
          "readOnly": true
        },
        "coordinates": {
          "title": "Coordinates",
          "type": "array",
          "items": {
            "title": "Linear Ring",
            "type": "array",
            "minItems": 4,
            "items": { "title": "Position", "$ref": "#/definitions/position" }
          }
        },
        "bbox": {
          "title": "Bounding Box",
          "$ref": "#/definitions/bbox"
        }
      }
    },
    "multiPoint": {
      "title": "GeoJSON MultiPoint",
      "type": "object",
      "additionalProperties": true,
      "required": ["type", "coordinates"],
      "properties": {
        "type": {
          "title": "Type",
          "type": "string",
          "const": "MultiPoint",
          "default": "MultiPoint",
          "readOnly": true
        },
        "coordinates": {
          "title": "Coordinates",
          "type": "array",
          "items": { "title": "Position", "$ref": "#/definitions/position" }
        },
        "bbox": {
          "title": "Bounding Box",
          "$ref": "#/definitions/bbox"
        }
      }
    },
    "multiLineString": {
      "title": "GeoJSON MultiLineString",
      "type": "object",
      "additionalProperties": true,
      "required": ["type", "coordinates"],
      "properties": {
        "type": {
          "title": "Type",
          "type": "string",
          "const": "MultiLineString",
          "default": "MultiLineString",
          "readOnly": true
        },
        "coordinates": {
          "title": "Coordinates",
          "type": "array",
          "items": {
            "title": "Line",
            "type": "array",
            "minItems": 2,
            "items": { "title": "Position", "$ref": "#/definitions/position" }
          }
        },
        "bbox": {
          "title": "Bounding Box",
          "$ref": "#/definitions/bbox"
        }
      }
    },
    "multiPolygon": {
      "title": "GeoJSON MultiPolygon",
      "type": "object",
      "additionalProperties": true,
      "required": ["type", "coordinates"],
      "properties": {
        "type": {
          "title": "Type",
          "type": "string",
          "const": "MultiPolygon",
          "default": "MultiPolygon",
          "readOnly": true
        },
        "coordinates": {
          "title": "Coordinates",
          "type": "array",
          "items": {
            "title": "Polygon",
            "type": "array",
            "items": {
              "title": "Linear Ring",
              "type": "array",
              "minItems": 4,
              "items": { "title": "Position", "$ref": "#/definitions/position" }
            }
          }
        },
        "bbox": {
          "title": "Bounding Box",
          "$ref": "#/definitions/bbox"
        }
      }
    },
    "geometry": {
      "title": "Geometry",
      "oneOf": [
        { "$ref": "#/definitions/point" },
        { "$ref": "#/definitions/lineString" },
        { "$ref": "#/definitions/polygon" },
        { "$ref": "#/definitions/multiPoint" },
        { "$ref": "#/definitions/multiLineString" },
        { "$ref": "#/definitions/multiPolygon" }
      ]
    },
    "geometryCollection": {
      "title": "GeoJSON GeometryCollection",
      "type": "object",
      "additionalProperties": true,
      "required": ["type", "geometries"],
      "properties": {
        "type": {
          "title": "Type",
          "type": "string",
          "const": "GeometryCollection",
          "default": "GeometryCollection",
          "readOnly": true
        },
        "geometries": {
          "title": "Geometries",
          "type": "array",
          "items": { "title": "Geometry", "$ref": "#/definitions/geometry" }
        },
        "bbox": {
          "title": "Bounding Box",
          "$ref": "#/definitions/bbox"
        }
      }
    },
    "feature": {
      "title": "GeoJSON Feature",
      "type": "object",
      "additionalProperties": true,
      "required": ["type", "properties", "geometry"],
      "properties": {
        "type": {
          "title": "Type",
          "type": "string",
          "const": "Feature",
          "default": "Feature",
          "readOnly": true
        },
        "id": {
          "title": "ID",
          "x-switcherInput": "radios-inline",
          "oneOf": [
            { "title": "Numeric ID", "type": "number" },
            { "title": "String ID", "type": "string" }
          ]
        },
        "properties": {
          "title": "Properties",
          "type": ["object", "null"],
          "x-switcherInput": "radios-inline"
        },
        "geometry": {
          "title": "Geometry",
          "oneOf": [
            { "title": "Null Geometry", "type": "null" },
            { "$ref": "#/definitions/point" },
            { "$ref": "#/definitions/lineString" },
            { "$ref": "#/definitions/polygon" },
            { "$ref": "#/definitions/multiPoint" },
            { "$ref": "#/definitions/multiLineString" },
            { "$ref": "#/definitions/multiPolygon" },
            { "$ref": "#/definitions/geometryCollection" }
          ]
        },
        "bbox": {
          "title": "Bounding Box",
          "$ref": "#/definitions/bbox"
        }
      }
    },
    "featureCollection": {
      "title": "GeoJSON FeatureCollection",
      "type": "object",
      "additionalProperties": true,
      "required": ["type", "features"],
      "properties": {
        "type": {
          "title": "Type",
          "type": "string",
          "const": "FeatureCollection",
          "default": "FeatureCollection",
          "readOnly": true
        },
        "features": {
          "title": "Features",
          "type": "array",
          "items": { "title": "Feature", "$ref": "#/definitions/feature" }
        },
        "bbox": {
          "title": "Bounding Box",
          "$ref": "#/definitions/bbox"
        }
      }
    }
  }
}